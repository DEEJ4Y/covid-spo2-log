(this["webpackJsonpcovid-oxygen-tracker"]=this["webpackJsonpcovid-oxygen-tracker"]||[]).push([[0],{308:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c(61),a=c.n(n),s=c(55),o=c(18),i=c(2);var j=function(){return Object(i.jsx)("div",{id:"heading",children:Object(i.jsx)("nav",{className:"navbar navbar-light bg-light",children:Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsx)("a",{className:"navbar-brand",href:"#heading",children:"COVID SpO2 Log"})})})})},l=c(80),d=c(47);var b=function(e){var t,c,r,n,a,s,o=e.record;return o&&(c=(t=new Date(o.DateAndTime)).toDateString().split(" ")[1]+" "+t.toDateString().split(" ")[2]+" "+t.toDateString().split(" ")[3],r=t.toLocaleTimeString("en-US"),n=o.oxygen,a=o.note,s=n>93?"table-success":n>=90?"table-warning":"table-danger"),Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:c}),Object(i.jsx)("td",{children:r}),Object(i.jsx)("td",{className:s,children:o?n:" "}),Object(i.jsxs)("td",{children:[o?a:" "," "]})]})};var O=function(e){var t=e.records,c=e.setRecords,n=Object(r.useRef)((function(){}));Object(r.useEffect)((function(){n.current()}),[]),n.current=function(){if(localStorage.getItem("records")){var e=JSON.parse(localStorage.getItem("records"));c(Object(s.a)(e))}};var a=e.deleteRecord;return Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{id:"my-records",children:"My Records"}),Object(i.jsx)("div",{className:"table-responsive",children:Object(i.jsxs)("table",{className:"table",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{width:"25%",children:"Date"}),Object(i.jsx)("th",{width:"25%",children:"Time"}),Object(i.jsx)("th",{width:"25%",children:"Oxygen Saturation (SpO2)"}),Object(i.jsx)("th",{children:"Note"})]})}),Object(i.jsx)("tbody",{children:t.reverse().map((function(e){return Object(i.jsx)(b,{record:e,onClick:a},e.DateAndTime)}))})]})})]})},h=c(310),x=c(311),u=c(158),g=c(24),v=c(159),m=c(315),f=c(71),p=c(161);var y=function(e){var t=e.records,c=[];return t&&(c=t.reverse().map((function(e){var t=new Date(e.DateAndTime).toTimeString("en-us").split(" ")[0];return{oxygen:e.oxygen,time:t}}))),Object(i.jsx)("div",{style:{width:"100%",height:300},children:Object(i.jsx)(h.a,{children:Object(i.jsxs)(x.a,{id:"chart",data:c,margin:{top:10,right:30,left:0,bottom:0},children:[Object(i.jsx)("defs",{children:Object(i.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(i.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),Object(i.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),Object(i.jsx)(u.a,{dataKey:"time",children:Object(i.jsx)(g.a,{content:"Time",offset:0,position:"insideBottom"})}),Object(i.jsx)(v.a,{}),Object(i.jsx)(m.a,{strokeDasharray:"3 3"}),Object(i.jsx)(f.a,{}),Object(i.jsx)(p.a,{type:"monotone",dataKey:"oxygen",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"})]})})})};var S=function(e){var t=Object(r.useState)({oxygen:"",note:""}),c=Object(o.a)(t,2),n=c[0],a=c[1],j=e.records,b=e.setRecords,h=e.saveRecordsToLocalStorage,x=e.deleteRecord,u=function(e){var t=e.target,c=t.name,r=t.value;("oxygen"===c&&r<=100&&r>=0||"note"===c)&&a((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(l.a)({},c,r))}))};return Object(i.jsxs)("main",{className:"bg-light",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-lg-8 col-md-6 col-sm-12",children:[Object(i.jsx)("h3",{children:"My Chart"}),Object(i.jsx)(y,{records:j})]}),Object(i.jsxs)("div",{className:"col-lg-3 col-md-6 col-sm-12",children:[Object(i.jsx)("h3",{children:"Add a record"}),Object(i.jsxs)("form",{children:[Object(i.jsx)("label",{children:"Oxygen Saturation (SpO2)"}),Object(i.jsx)("input",{name:"oxygen",className:"form-control",placeholder:"Enter your oxygen level",value:n.oxygen,onChange:u}),Object(i.jsx)("label",{children:"Note"}),Object(i.jsx)("input",{name:"note",className:"form-control",placeholder:"Add a note...",value:n.note,onChange:u}),Object(i.jsx)("button",{className:"btn btn-primary",onClick:function(e){if(""!==n.oxygen){var t=Object(d.a)(Object(d.a)({},n),{},{DateAndTime:Date.now()});b((function(e){return 0===e.length?[Object(d.a)({},t)]:[].concat(Object(s.a)(e),[Object(d.a)({},t)])})),h()}e.preventDefault()},children:"Save"})]})]})]}),Object(i.jsx)("hr",{}),Object(i.jsx)(O,{records:j,setRecords:b,saveRecordsToLocalStorage:h,deleteRecord:x})]})};var N=function(){var e=(new Date).getFullYear();return Object(i.jsx)("footer",{children:Object(i.jsxs)("p",{children:["\xa9 Copyright ",e," David Joseph"]})})};var D=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1],a=function(){localStorage.setItem("records",JSON.stringify(c))};return Object(i.jsxs)("div",{className:"bg-light",height:"100vh",children:[Object(i.jsx)(j,{}),Object(i.jsx)(S,{records:c,setRecords:n,saveRecordsToLocalStorage:a,deleteRecord:function(e){var t=e.target.id;console.log(t);var r=c.filter((function(e){return e.DateAndTime!==t}));n((function(e){return Object(s.a)(r)})),a()}}),Object(i.jsx)(N,{})]})};a.a.render(Object(i.jsx)(D,{}),document.getElementById("root"))}},[[308,1,2]]]);
//# sourceMappingURL=main.755aa3ae.chunk.js.map